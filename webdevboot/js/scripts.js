function portfolioSlider(){var e=$(".portfolio__link");window.portforolioInterval=0,e.hover(function(){function e(e){t.eq(e).show(0),t.not(":eq("+e+")").hide(0)}var t=$(this).find(".portfolio__image-container > div"),n=t.length,a=n-1;n>1&&(window.portforolioInterval=setInterval(function(){a-=1,a<0&&(a=n-1),e(a)},600))},function(){clearInterval(window.portforolioInterval)})}function showModalVideo(){var e=$("[data-remodal-id=modal]");if(e.length){var t,n=(e.find(".play-button-frame"),e.find(".modal__content")),a=(e.find(".pageContent__iframe-bg-play"),e.remodal({hashTracking:!1})),o=e.find("iframe"),i=$f(o[0]),r=7e4;a.open(),i.api("play"),t=setTimeout(function(){n.fadeIn()},r),$(document).on("closed",".remodal",function(e){$("[data-remodal-id=modal]").find("iframe").remove(),clearTimeout(t)})}}function changeColorMenu(){var e=$(".js-content--white"),t=Math.round($(window).scrollTop());e.each(function(e){var n=$(this),a=n.offset().top,o=a+n.outerHeight(!0);_checkPositionWhiteSections(e,t,a,o)})}function _checkPositionWhiteSections(e,t,n,a){var o=$(".header");o.removeClass("js-header--black"),_collision[e]=t>n&&t<a;var i=_getObjectValues(_collision);_containsInArray(!0,i)&&o.addClass("js-header--black")}function _getObjectValues(e){var t=[];for(var n in e)t.push(e[n]);return t}function _containsInArray(e,t){for(var n in t)if(t[n]==e)return!0;return!1}function blurBackgroundUnderMobileMenu(){var e=($(".content"),$(".header")),t=$(".header__menu"),n=$(".header__mobile-link");n.on("click",function(n){n.preventDefault(),e.toggleClass("header--active"),t.toggleClass("header__menu--active"),$(this).toggleClass("header__mobile-link--active")}),$(document).scroll(function(){$(this).scrollTop();changeColorMenu()})}function mainPageSlider(){function e(){var e=$(".mainSlider__list li").eq(t);n.fadeOut(1e3),e.fadeIn(1e3)}var t=0,n=$(".mainSlider__list li"),a=n.length;a>1&&setInterval(function(){t+=1,t>a-1&&(t=0),e()},5e3)}function showHideMobileHeaderByScroll(){function e(){var e=$(this).scrollTop(),t=$("header");t.hasClass("header--active")||Math.abs(n-e)<=a||(e>n&&e>o?t.removeClass("js-header--down").addClass("js-header--up"):e+$(window).height()<$(document).height()&&t.removeClass("js-header--up").addClass("js-header--down"),n=e)}var t,n=0,a=5,o=$(".header").outerHeight();$(window).scroll(function(){t=!0}),setInterval(function(){t&&(e(),t=!1)},250)}$(document).ready(function(){var e=$(".mainSlider .content__scroll-link"),t=$(".vacancy__more"),n=$(".vacancy__more-text-btn"),a=!!$("#js-mainPage__detected").length,o=$(".mainSlider iframe"),i=$(window).width();if(t.length&&(t.on("click",function(e){e.preventDefault();var t=$(this),n=t.parent(),a=n.find(".vacancy__more-text"),o=t.hasClass("vacancy__more--active");a.slideToggle(),t.toggleClass("vacancy__more--active"),t.text(o?"Узнать подробнее":"Скрыть")}),n.on("click",function(e){e.preventDefault();var t=$(this),n=t.prev();n.slideDown(),t.fadeOut(),$("html, body").animate({scrollTop:n.offset().top},1e3)})),e.length&&e.on("click",function(e){e.preventDefault();var t=this.href,n=t.split("#"),a=n[1],o=$("#"+a).offset(),i=o.top;$("html, body").animate({scrollTop:i},"slow")}),$(".pageSlider__container").length){var r=$(".pageSlider__counter"),s=$(".pageSlider__container"),l={dots:!1,slidesToShow:1,responsive:[{breakpoint:768,settings:{dots:!1}}]};s.on("init reInit afterChange",function(e,t,n,a){var o=(n?n:0)+1;r.text(o+"/"+t.slideCount)}),s.slick(l)}!function(){var e=$(".pageVideo #vimeo__video"),t=$(".pageVideo #youtube__video");if(e.length){var n=$(".pageVideo .pageContent__iframe-bg-play"),a=$f(e[0]),o=$(".pageVideo .play-button-frame");o.click(function(e){e.preventDefault(),n.fadeOut(),a.api("play")})}if(t.length){var o=$(".pageVideo .play-button-frame"),n=$(".pageVideo .pageContent__iframe-bg-play");o.click(function(e){e.preventDefault(),n.fadeOut(),t[0].src+="?autoplay=1"})}}(),blurBackgroundUnderMobileMenu(),changeColorMenu(),o.length||mainPageSlider(),portfolioSlider(),showHideMobileHeaderByScroll(),a&&(setTimeout(function(){showModalVideo()},1e3),o.length&&i<768&&mainPageSlider());var d=$("#form_vacancyFile"),c=$(".vacancy__form-label .vacancy__form-label-text");d.length&&(d.change(function(){var e=$(this).val();c.html(e)}),$("body").on("submit",".vacancy__form form",function(e){e.preventDefault();new FormData($(this)[0]);$.ajax({type:$(this).attr("method"),url:$(this).attr("action"),data:$(this).serialize()}).done(function(e){console.log(e,"data")}).fail(function(e,t,n){console.log(e,t,n,"jqXHR, textStatus, errorThrown")})}))});var _collision={};!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(n){return t(e,n)}):"object"==typeof exports?t(e,require("jquery")):t(e,e.jQuery||e.Zepto)}(this,function(e,t){"use strict";function n(e){if(w&&"none"===e.css("animation-name")&&"none"===e.css("-webkit-animation-name")&&"none"===e.css("-moz-animation-name")&&"none"===e.css("-o-animation-name")&&"none"===e.css("-ms-animation-name"))return 0;var t,n,a,o,i=e.css("animation-duration")||e.css("-webkit-animation-duration")||e.css("-moz-animation-duration")||e.css("-o-animation-duration")||e.css("-ms-animation-duration")||"0s",r=e.css("animation-delay")||e.css("-webkit-animation-delay")||e.css("-moz-animation-delay")||e.css("-o-animation-delay")||e.css("-ms-animation-delay")||"0s",s=e.css("animation-iteration-count")||e.css("-webkit-animation-iteration-count")||e.css("-moz-animation-iteration-count")||e.css("-o-animation-iteration-count")||e.css("-ms-animation-iteration-count")||"1";for(i=i.split(", "),r=r.split(", "),s=s.split(", "),o=0,n=i.length,t=Number.NEGATIVE_INFINITY;o<n;o++)a=parseFloat(i[o])*parseInt(s[o],10)+parseFloat(r[o]),a>t&&(t=a);return t}function a(){if(t(document.body).height()<=t(window).height())return 0;var e,n,a=document.createElement("div"),o=document.createElement("div");return a.style.visibility="hidden",a.style.width="100px",document.body.appendChild(a),e=a.offsetWidth,a.style.overflow="scroll",o.style.width="100%",a.appendChild(o),n=o.offsetWidth,a.parentNode.removeChild(a),e-n}function o(){if(!O){var e,n,o=t("html"),i=c("is-locked");o.hasClass(i)||(n=t(document.body),e=parseInt(n.css("padding-right"),10)+a(),n.css("padding-right",e+"px"),o.addClass(i))}}function i(){if(!O){var e,n,o=t("html"),i=c("is-locked");o.hasClass(i)&&(n=t(document.body),e=parseInt(n.css("padding-right"),10)-a(),n.css("padding-right",e+"px"),o.removeClass(i))}}function r(e,t,n,a){var o=c("is",t),i=[c("is",y.CLOSING),c("is",y.OPENING),c("is",y.CLOSED),c("is",y.OPENED)].join(" ");e.$bg.removeClass(i).addClass(o),e.$overlay.removeClass(i).addClass(o),e.$wrapper.removeClass(i).addClass(o),e.$modal.removeClass(i).addClass(o),e.state=t,!n&&e.$modal.trigger({type:t,reason:a},[{reason:a}])}function s(e,a,o){var i=0,r=function(e){e.target===this&&i++},s=function(e){e.target===this&&0===--i&&(t.each(["$bg","$overlay","$wrapper","$modal"],function(e,t){o[t].off(v+" "+$)}),a())};t.each(["$bg","$overlay","$wrapper","$modal"],function(e,t){o[t].on(v,r).on($,s)}),e(),0===n(o.$bg)&&0===n(o.$overlay)&&0===n(o.$wrapper)&&0===n(o.$modal)&&(t.each(["$bg","$overlay","$wrapper","$modal"],function(e,t){o[t].off(v+" "+$)}),a())}function l(e){e.state!==y.CLOSED&&(t.each(["$bg","$overlay","$wrapper","$modal"],function(t,n){e[n].off(v+" "+$)}),e.$bg.removeClass(e.settings.modifier),e.$overlay.removeClass(e.settings.modifier).hide(),e.$wrapper.hide(),i(),r(e,y.CLOSED,!0))}function d(e){var t,n,a,o,i={};for(e=e.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,","),t=e.split(","),o=0,n=t.length;o<n;o++)t[o]=t[o].split(":"),a=t[o][1],("string"==typeof a||a instanceof String)&&(a="true"===a||"false"!==a&&a),("string"==typeof a||a instanceof String)&&(a=isNaN(a)?a:+a),i[t[o][0]]=a;return i}function c(){for(var e=g,t=0;t<arguments.length;++t)e+="-"+arguments[t];return e}function u(){var e,n,a=location.hash.replace("#","");if(a){try{n=t('[data-remodal-id="'+a+'"]')}catch(o){}n&&n.length&&(e=t[h].lookup[n.data(h)],e&&e.settings.hashTracking&&e.open())}else m&&m.state===y.OPENED&&m.settings.hashTracking&&m.close()}function f(e,n){var a=t(document.body),o=a,i=this;i.settings=t.extend({},C,n),i.index=t[h].lookup.push(i)-1,i.state=y.CLOSED,i.$overlay=t("."+c("overlay")),null!==i.settings.appendTo&&i.settings.appendTo.length&&(o=t(i.settings.appendTo)),i.$overlay.length||(i.$overlay=t("<div>").addClass(c("overlay")+" "+c("is",y.CLOSED)).hide(),o.append(i.$overlay)),i.$bg=t("."+c("bg")).addClass(c("is",y.CLOSED)),i.$modal=e.addClass(g+" "+c("is-initialized")+" "+i.settings.modifier+" "+c("is",y.CLOSED)).attr("tabindex","-1"),i.$wrapper=t("<div>").addClass(c("wrapper")+" "+i.settings.modifier+" "+c("is",y.CLOSED)).hide().append(i.$modal),o.append(i.$wrapper),i.$wrapper.on("click."+g,'[data-remodal-action="close"]',function(e){e.preventDefault(),i.close()}),i.$wrapper.on("click."+g,'[data-remodal-action="cancel"]',function(e){e.preventDefault(),i.$modal.trigger(_.CANCELLATION),i.settings.closeOnCancel&&i.close(_.CANCELLATION)}),i.$wrapper.on("click."+g,'[data-remodal-action="confirm"]',function(e){e.preventDefault(),i.$modal.trigger(_.CONFIRMATION),i.settings.closeOnConfirm&&i.close(_.CONFIRMATION)}),i.$wrapper.on("click."+g,function(e){var n=t(e.target);n.hasClass(c("wrapper"))&&i.settings.closeOnOutsideClick&&i.close()})}var m,p,h="remodal",g=e.REMODAL_GLOBALS&&e.REMODAL_GLOBALS.NAMESPACE||h,v=t.map(["animationstart","webkitAnimationStart","MSAnimationStart","oAnimationStart"],function(e){return e+"."+g}).join(" "),$=t.map(["animationend","webkitAnimationEnd","MSAnimationEnd","oAnimationEnd"],function(e){return e+"."+g}).join(" "),C=t.extend({hashTracking:!0,closeOnConfirm:!0,closeOnCancel:!0,closeOnEscape:!0,closeOnOutsideClick:!0,modifier:"",appendTo:null},e.REMODAL_GLOBALS&&e.REMODAL_GLOBALS.DEFAULTS),y={CLOSING:"closing",CLOSED:"closed",OPENING:"opening",OPENED:"opened"},_={CONFIRMATION:"confirmation",CANCELLATION:"cancellation"},w=function(){var e=document.createElement("div").style;return void 0!==e.animationName||void 0!==e.WebkitAnimationName||void 0!==e.MozAnimationName||void 0!==e.msAnimationName||void 0!==e.OAnimationName}(),O=/iPad|iPhone|iPod/.test(navigator.platform);f.prototype.open=function(){var e,n=this;n.state!==y.OPENING&&n.state!==y.CLOSING&&(e=n.$modal.attr("data-remodal-id"),e&&n.settings.hashTracking&&(p=t(window).scrollTop(),location.hash=e),m&&m!==n&&l(m),m=n,o(),n.$bg.addClass(n.settings.modifier),n.$overlay.addClass(n.settings.modifier).show(),n.$wrapper.show().scrollTop(0),n.$modal.focus(),s(function(){r(n,y.OPENING)},function(){r(n,y.OPENED)},n))},f.prototype.close=function(e){var n=this;n.state!==y.OPENING&&n.state!==y.CLOSING&&(n.settings.hashTracking&&n.$modal.attr("data-remodal-id")===location.hash.substr(1)&&(location.hash="",t(window).scrollTop(p)),s(function(){r(n,y.CLOSING,!1,e)},function(){n.$bg.removeClass(n.settings.modifier),n.$overlay.removeClass(n.settings.modifier).hide(),n.$wrapper.hide(),i(),r(n,y.CLOSED,!1,e)},n))},f.prototype.getState=function(){return this.state},f.prototype.destroy=function(){var e,n=t[h].lookup;l(this),this.$wrapper.remove(),delete n[this.index],e=t.grep(n,function(e){return!!e}).length,0===e&&(this.$overlay.remove(),this.$bg.removeClass(c("is",y.CLOSING)+" "+c("is",y.OPENING)+" "+c("is",y.CLOSED)+" "+c("is",y.OPENED)))},t[h]={lookup:[]},t.fn[h]=function(e){var n,a;return this.each(function(o,i){a=t(i),null==a.data(h)?(n=new f(a,e),a.data(h,n.index),n.settings.hashTracking&&a.attr("data-remodal-id")===location.hash.substr(1)&&n.open()):n=t[h].lookup[a.data(h)]}),n},t(document).ready(function(){t(document).on("click","[data-remodal-target]",function(e){e.preventDefault();var n=e.currentTarget,a=n.getAttribute("data-remodal-target"),o=t('[data-remodal-id="'+a+'"]');t[h].lookup[o.data(h)].open()}),t(document).find("."+g).each(function(e,n){var a=t(n),o=a.data("remodal-options");o?("string"==typeof o||o instanceof String)&&(o=d(o)):o={},a[h](o)}),t(document).on("keydown."+g,function(e){m&&m.settings.closeOnEscape&&m.state===y.OPENED&&27===e.keyCode&&m.close()}),t(window).on("hashchange."+g,u)})});